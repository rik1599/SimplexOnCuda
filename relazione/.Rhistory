---
title: "Progetto di Programmazione su Architetture Parallele"
---
title: "Progetto di Programmazione su Architetture Parallele"
---
title: "Progetto di Programmazione su Architetture Parallele"
When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:
---
title: "Esame di Programmazione su Architetture Parallele"
---
title: "Esame di Programmazione su Architetture Parallele"
---
title: "Esame di Programmazione su Architetture Parallele"
knitr::opts_chunk$set(echo = TRUE)
mx250_256 <- read.csv("data/mx250/mx250_256.txt", stringsAsFactors=FALSE)
mx250_256 <- read.csv("./../measures/mx250/mx250_256.txt", stringsAsFactors=FALSE)
mx250_256 <- read.csv("./../data/measures/mx250/mx250_256.txt")
mx250_512 <- read.csv("./../data/measures/mx250/mx250_512.txt")
mx250_1024 <- read.csv("./../data/measures/mx250/mx250_1024.txt")
mx250_2048 <- read.csv("./../data/measures/mx250/mx250_2048.txt")
mx250_4096 <- read.csv("./../data/measures/mx250/mx250_4096.txt")
mx250_8192 <- read.csv("./../data/measures/mx250/mx250_8192.txt")
##256x256##
mantenere <- c("operation","elapsed_time")
data_mx250_256 <- subset(mx250_256, select = mantenere)
data_mx250_256["operation"][data_mx250_256["operation"] == "gauss1" | data_mx250_256["operation"] == "gauss2"] <- "gauss"
data_mx250_256 <- aggregate(data_mx250_256$elapsed_time, by=list(Category=data_mx250_256$operation),FUN=sum)
transposed_data_mx250_256 <- t(data_mx250_256)
varNames <- transposed_data_mx250_256[1,]
colnames(transposed_data_mx250_256) <- transposed_data_mx250_256[1,]
transposed_data_mx250_256 <- transposed_data_mx250_256[-c(1),]
transposed_data_mx250_256 <-
as.numeric(transposed_data_mx250_256)
##512x512##
data_mx250_512 <- subset(mx250_512, select = mantenere)
data_mx250_512["operation"][data_mx250_512["operation"] == "gauss1" | data_mx250_512["operation"] == "gauss2"] <- "gauss"
data_mx250_512 <- aggregate(data_mx250_512$elapsed_time, by=list(Category=data_mx250_512$operation),FUN=sum)
transposed_data_mx250_512 <- t(data_mx250_512)
colnames(transposed_data_mx250_512) <- transposed_data_mx250_512[1,]
transposed_data_mx250_512 <- transposed_data_mx250_512[-c(1),]
transposed_data_mx250_512 <-
as.numeric(transposed_data_mx250_512)
##1024x1024##
data_mx250_1024 <- subset(mx250_1024, select = mantenere)
data_mx250_1024["operation"][data_mx250_1024["operation"] == "gauss1" | data_mx250_1024["operation"] == "gauss2"] <- "gauss"
data_mx250_1024 <- aggregate(data_mx250_1024$elapsed_time, by=list(Category=data_mx250_1024$operation),FUN=sum)
transposed_data_mx250_1024 <- t(data_mx250_1024)
colnames(transposed_data_mx250_1024) <- transposed_data_mx250_1024[1,]
transposed_data_mx250_1024 <- transposed_data_mx250_1024[-c(1),]
transposed_data_mx250_1024 <-
as.numeric(transposed_data_mx250_1024)
##2048x2048##
data_mx250_2048 <- subset(mx250_2048, select = mantenere)
data_mx250_2048["operation"][data_mx250_2048["operation"] == "gauss1" | data_mx250_2048["operation"] == "gauss2"] <- "gauss"
data_mx250_2048 <- aggregate(data_mx250_2048$elapsed_time, by=list(Category=data_mx250_2048$operation),FUN=sum)
transposed_data_mx250_2048 <- t(data_mx250_2048)
colnames(transposed_data_mx250_2048) <- transposed_data_mx250_2048[1,]
transposed_data_mx250_2048 <- transposed_data_mx250_2048[-c(1),]
transposed_data_mx250_2048 <-
as.numeric(transposed_data_mx250_2048)
##4096x4096##
data_mx250_4096 <- subset(mx250_4096, select = mantenere)
data_mx250_4096["operation"][data_mx250_4096["operation"] == "gauss1" | data_mx250_4096["operation"] == "gauss2"] <- "gauss"
data_mx250_4096 <- aggregate(data_mx250_4096$elapsed_time, by=list(Category=data_mx250_4096$operation),FUN=sum)
transposed_data_mx250_4096 <- t(data_mx250_4096)
colnames(transposed_data_mx250_4096) <- transposed_data_mx250_4096[1,]
transposed_data_mx250_4096 <- transposed_data_mx250_4096[-c(1),]
transposed_data_mx250_4096 <-
as.numeric(transposed_data_mx250_4096)
#data_mx250_4096$edge <- c(rep(4096, 6))
##8192x8192##
data_mx250_8192 <- subset(mx250_8192, select = mantenere)
data_mx250_8192["operation"][data_mx250_8192["operation"] == "gauss1" | data_mx250_8192["operation"] == "gauss2"] <- "gauss"
data_mx250_8192 <- aggregate(data_mx250_8192$elapsed_time, by=list(Category=data_mx250_8192$operation),FUN=sum)
transposed_data_mx250_8192 <- t(data_mx250_8192)
colnames(transposed_data_mx250_8192) <- transposed_data_mx250_8192[1,]
transposed_data_mx250_8192 <- transposed_data_mx250_8192[-c(1),]
transposed_data_mx250_8192 <- as.numeric(transposed_data_mx250_8192)
#data_mx250_8192$edge <- c(rep(8192, 6))
##creazione grafico##
#toPlot <- rbind(data_mx250_256, data_mx250_512)
#toPlot <- rbind(toPlot, data_mx250_1024)
#toPlot <- rbind(toPlot, data_mx250_2048)
#toPlot <- rbind(toPlot, data_mx250_4096)
#toPlot <- rbind(toPlot, data_mx250_8192)
##ggplot(toPlot, aes(fill=Category, y=x, x=edge)) +
##geom_bar(position="fill", stat="identity")
######## proviamo a fare il grafico della percentuale di tempo utilizzata dal solve #####
total <- rbind(transposed_data_mx250_256, transposed_data_mx250_512)
total <- rbind(total, transposed_data_mx250_1024)
total <- rbind(total, transposed_data_mx250_2048)
total <- rbind(total, transposed_data_mx250_4096)
total <- rbind(total, transposed_data_mx250_8192)
totalDF <- as.data.frame(total)
colnames(totalDF) <- varNames
totalDF <- (totalDF/rowSums(totalDF))*100
mantenere2 <- c("solve")
totalDF <- subset(totalDF, select = mantenere2)
totalDF$edge <- c("256", "512", "1024", "2048", "4096", "8192")
plot(data = totalDF, solve~edge, main = "Percentuale di tempo occupata dal ciclo di solve", type = 'b', xlab = "Dimensione lato matrice", ylab = "Percentuale tempo in solve")
View(data_mx250_1024)
mx250_1024 <- read.csv("./../data/measures/mx250/mx250_1024.txt")
mx250_2048 <- read.csv("./../data/measures/mx250/mx250_2048.txt")
mx250_4096 <- read.csv("./../data/measures/mx250/mx250_4096.txt")
mx250_8192 <- read.csv("./../data/measures/mx250/mx250_8192.txt")
rtx3070_1024 <- read.csv("./../data/measures/rtx3070/rtx3070_1024.txt")
rtx3070_2048 <- read.csv("./../data/measures/rtx3070/rtx3070_2048.txt")
rtx3070_4096 <- read.csv("./../data/measures/rtx3070/rtx3070_4096.txt")
rtx3070_8192 <- read.csv("./../data/measures/rtx3070/rtx3070_8192.txt")
times_mx250_1024 <- subset(mx250_1024, vars == "3073" & operation == "solve")
times_mx250_2048 <- subset(mx250_2048, vars == "6145" & operation == "solve")
times_mx250_4096 <- subset(mx250_4096, vars == "12289" & operation == "solve")
times_mx250_8192 <- subset(mx250_8192, vars == "24577" & operation == "solve")
times_rtx3070_1024 <- subset(rtx3070_1024, vars == "3073" & operation == "solve")
times_rtx3070_2048 <- subset(rtx3070_2048, vars == "6145" & operation == "solve")
times_rtx3070_4096 <- subset(rtx3070_4096, vars == "12289" & operation == "solve")
times_rtx3070_8192 <- subset(rtx3070_8192, vars == "24577" & operation == "solve")
############ 1024 ##########
dta_A <- mean(times_mx250_1024$elapsed_time)
dta_B <- mean(times_rtx3070_1024$elapsed_time)
mx250_Data <- dta_A
rtx3070_Data <- dta_B
############ 2048 ##########
dta_A <- mean(times_mx250_2048$elapsed_time)
dta_B <- mean(times_rtx3070_2048$elapsed_time)
mx250_Data <- c(mx250_Data, dta_A)
rtx3070_Data <- c(rtx3070_Data, dta_B)
############ 4096 ##########
dta_A <- mean(times_mx250_4096$elapsed_time)
dta_B <- mean(times_rtx3070_4096$elapsed_time)
mx250_Data <- c(mx250_Data, dta_A)
rtx3070_Data <- c(rtx3070_Data, dta_B)
########### 8192 ###########
dta_A <- mean(times_mx250_8192$elapsed_time)
dta_B <- mean(times_rtx3070_8192$elapsed_time)
mx250_Data <- c(mx250_Data, dta_A)
rtx3070_Data <- c(rtx3070_Data, dta_B)
#### preparazione dataframes ####
edge <- c(1024,2048,4096,8192)
mx250_Data <- data.frame(mx250_Data, edge)
rtx3070_Data <- data.frame(rtx3070_Data, edge)
colnames(mx250_Data) <- c("time", "edge")
colnames(rtx3070_Data) <- c("time", "edge")
plot(data = mx250_Data, time~edge, main = "Tempo per singolo ciclo di solve", type = 'b', xlab = "Dimensione lato matrice", ylab = "Tempo per ciclo", col = "black")
lines(data = rtx3070_Data, time~edge, type = 'b', col = "green")
legend("topleft", c("mx250", "rtx 3070"), lty = c(1,1), col = c("black", "green"))
mx250_1024 <- read.csv("./../data/measures/mx250/mx250_1024.txt")
mx250_2048 <- read.csv("./../data/measures/mx250/mx250_2048.txt")
mx250_4096 <- read.csv("./../data/measures/mx250/mx250_4096.txt")
mx250_8192 <- read.csv("./../data/measures/mx250/mx250_8192.txt")
rtx3070_1024 <- read.csv("./../data/measures/rtx3070/rtx3070_1024.txt")
rtx3070_2048 <- read.csv("./../data/measures/rtx3070/rtx3070_2048.txt")
rtx3070_4096 <- read.csv("./../data/measures/rtx3070/rtx3070_4096.txt")
rtx3070_8192 <- read.csv("./../data/measures/rtx3070/rtx3070_8192.txt")
times_mx250_1024 <- subset(mx250_1024, vars == "3073" & operation == "solve")
times_mx250_2048 <- subset(mx250_2048, vars == "6145" & operation == "solve")
times_mx250_4096 <- subset(mx250_4096, vars == "12289" & operation == "solve")
times_mx250_8192 <- subset(mx250_8192, vars == "24577" & operation == "solve")
times_rtx3070_1024 <- subset(rtx3070_1024, vars == "3073" & operation == "solve")
times_rtx3070_2048 <- subset(rtx3070_2048, vars == "6145" & operation == "solve")
times_rtx3070_4096 <- subset(rtx3070_4096, vars == "12289" & operation == "solve")
times_rtx3070_8192 <- subset(rtx3070_8192, vars == "24577" & operation == "solve")
############ 1024 ##########
dta_A <- mean(times_mx250_1024$elapsed_time)
dta_B <- mean(times_rtx3070_1024$elapsed_time)
mx250_Data <- dta_A
rtx3070_Data <- dta_B
############ 2048 ##########
dta_A <- mean(times_mx250_2048$elapsed_time)
dta_B <- mean(times_rtx3070_2048$elapsed_time)
mx250_Data <- c(mx250_Data, dta_A)
rtx3070_Data <- c(rtx3070_Data, dta_B)
############ 4096 ##########
dta_A <- mean(times_mx250_4096$elapsed_time)
dta_B <- mean(times_rtx3070_4096$elapsed_time)
mx250_Data <- c(mx250_Data, dta_A)
rtx3070_Data <- c(rtx3070_Data, dta_B)
########### 8192 ###########
dta_A <- mean(times_mx250_8192$elapsed_time)
dta_B <- mean(times_rtx3070_8192$elapsed_time)
mx250_Data <- c(mx250_Data, dta_A)
rtx3070_Data <- c(rtx3070_Data, dta_B)
#### preparazione dataframes ####
edge <- c(1024,2048,4096,8192)
mx250_Data <- data.frame(mx250_Data, edge)
rtx3070_Data <- data.frame(rtx3070_Data, edge)
colnames(mx250_Data) <- c("time", "edge")
colnames(rtx3070_Data) <- c("time", "edge")
plot(data = mx250_Data, time~edge, main = "Tempo per singolo ciclo di solve", type = 'b', xlab = "Dimensione lato matrice", ylab = "Tempo per ciclo", col = "black")
lines(data = rtx3070_Data, time~edge, type = 'b', col = "green")
legend("topleft", c("mx250", "rtx 3070"), lty = c(1,1), col = c("black", "green"))
mx250_1024 <- read.csv("./../data/measures/mx250/mx250_1024.txt")
mx250_8192 <- read.csv("./../data/measures/mx250/mx250_8192.txt")
rtx3070_1024 <- read.csv("./../data/measures/rtx3070/rtx3070_1024.txt")
rtx3070_8192 <- read.csv("./../data/measures/rtx3070/rtx3070_8192.txt")
mx250_1024 <- subset(mx250_1024, vars == "3073" & operation == "solve")
mx250_8192 <- subset(mx250_8192, vars == "24577" & operation == "solve")
rtx3070_1024 <- subset(rtx3070_1024, vars == "3073" & operation == "solve")
rtx3070_8192 <- subset(rtx3070_8192, vars == "24577" & operation == "solve")
difference_1024 <- mean(mx250_1024$elapsed_time)-mean(rtx3070_1024$elapsed_time)
difference_8192 <- mean(mx250_8192$elapsed_time)-mean(rtx3070_8192$elapsed_time)
rapporto_1024 <- mean(mx250_1024$elapsed_time)/mean(rtx3070_1024$elapsed_time)
rapporto_8192 <- mean(mx250_8192$elapsed_time)/mean(rtx3070_8192$elapsed_time)
mx250_1024 <- read.csv("./../data/measures/mx250/mx250_1024.txt")
mx250_8192 <- read.csv("./../data/measures/mx250/mx250_8192.txt")
rtx3070_1024 <- read.csv("./../data/measures/rtx3070/rtx3070_1024.txt")
rtx3070_8192 <- read.csv("./../data/measures/rtx3070/rtx3070_8192.txt")
mx250_1024 <- subset(mx250_1024, vars == "3073" & operation == "solve")
mx250_8192 <- subset(mx250_8192, vars == "24577" & operation == "solve")
rtx3070_1024 <- subset(rtx3070_1024, vars == "3073" & operation == "solve")
rtx3070_8192 <- subset(rtx3070_8192, vars == "24577" & operation == "solve")
difference_1024 <- mean(mx250_1024$elapsed_time)-mean(rtx3070_1024$elapsed_time)
difference_8192 <- mean(mx250_8192$elapsed_time)-mean(rtx3070_8192$elapsed_time)
rapporto_1024 <- mean(mx250_1024$elapsed_time)/mean(rtx3070_1024$elapsed_time)
rapporto_8192 <- mean(mx250_8192$elapsed_time)/mean(rtx3070_8192$elapsed_time)
mx250_1024 <- read.csv("./../data/measures/mx250/mx250_1024.txt")
mx250_2048 <- read.csv("./../data/measures/mx250/mx250_2048.txt")
mx250_4096 <- read.csv("./../data/measures/mx250/mx250_4096.txt")
mx250_8192 <- read.csv("./../data/measures/mx250/mx250_8192.txt")
rtx3070_1024 <- read.csv("./../data/measures/rtx3070/rtx3070_1024.txt")
rtx3070_2048 <- read.csv("./../data/measures/rtx3070/rtx3070_2048.txt")
rtx3070_4096 <- read.csv("./../data/measures/rtx3070/rtx3070_4096.txt")
rtx3070_8192 <- read.csv("./../data/measures/rtx3070/rtx3070_8192.txt")
times_mx250_1024 <- subset(mx250_1024, vars == "3073" & operation == "solve")
times_mx250_2048 <- subset(mx250_2048, vars == "6145" & operation == "solve")
times_mx250_4096 <- subset(mx250_4096, vars == "12289" & operation == "solve")
times_mx250_8192 <- subset(mx250_8192, vars == "24577" & operation == "solve")
times_rtx3070_1024 <- subset(rtx3070_1024, vars == "3073" & operation == "solve")
times_rtx3070_2048 <- subset(rtx3070_2048, vars == "6145" & operation == "solve")
times_rtx3070_4096 <- subset(rtx3070_4096, vars == "12289" & operation == "solve")
times_rtx3070_8192 <- subset(rtx3070_8192, vars == "24577" & operation == "solve")
par(mfrow=c(2,2))
############ 1024 ##########
dta_A <- density(times_mx250_1024$elapsed_time, na.rm = TRUE)
dta_B <- density(times_rtx3070_1024$elapsed_time, na.rm = TRUE)
plot(dta_A, col = "black", main = "Matrice 1024x1024", xlim = c(0,6000), ylim = c(0, max(dta_A$y, dta_B$y)))
lines(dta_B, col = "green")
legend("topright", c("mx250", "rtx 3070"), lty = c(1,1), col = c("black", "green"))
############ 2048 ##########
dta_A <- density(times_mx250_2048$elapsed_time, na.rm = TRUE)
dta_B <- density(times_rtx3070_2048$elapsed_time, na.rm = TRUE)
plot(dta_A, col = "black", main = "Matrice 2048x2048", ylim = c(0, max(dta_A$y, dta_B$y)))
lines(dta_B, col = "green")
legend("topright", c("mx250", "rtx 3070"), lty = c(1,1), col = c("black", "green"))
############ 4096 ##########
dta_A <- density(times_mx250_4096$elapsed_time, na.rm = TRUE)
dta_B <- density(times_rtx3070_4096$elapsed_time, na.rm = TRUE)
plot(dta_A, col = "black", main = "Matrice 4096x4096", ylim = c(0, max(dta_A$y, dta_B$y)))
lines(dta_B, col = "green")
legend("topright", c("mx250", "rtx 3070"), lty = c(1,1), col = c("black", "green"))
########### 8192 ###########
dta_A <- density(times_mx250_8192$elapsed_time, na.rm = TRUE)
dta_B <- density(times_rtx3070_8192$elapsed_time, na.rm = TRUE)
plot(dta_A, col = "black", main = "Matrice 8192x8192", ylim = c(0, max(dta_A$y, dta_B$y)))
lines(dta_B, col = "green")
legend("topright", c("mx250", "rtx 3070"), lty = c(1,1), col = c("black", "green"))
par(mfrow=c(1,1))
mx250_1024 <- read.csv("./../data/measures/mx250/mx250_1024.txt")
mx250_2048 <- read.csv("./../data/measures/mx250/mx250_2048.txt")
mx250_4096 <- read.csv("./../data/measures/mx250/mx250_4096.txt")
mx250_8192 <- read.csv("./../data/measures/mx250/mx250_8192.txt")
rtx3070_1024 <- read.csv("./../data/measures/rtx3070/rtx3070_1024.txt")
rtx3070_2048 <- read.csv("./../data/measures/rtx3070/rtx3070_2048.txt")
rtx3070_4096 <- read.csv("./../data/measures/rtx3070/rtx3070_4096.txt")
rtx3070_8192 <- read.csv("./../data/measures/rtx3070/rtx3070_8192.txt")
times_mx250_1024 <- subset(mx250_1024, vars == "3073" & operation == "solve")
times_mx250_2048 <- subset(mx250_2048, vars == "6145" & operation == "solve")
times_mx250_4096 <- subset(mx250_4096, vars == "12289" & operation == "solve")
times_mx250_8192 <- subset(mx250_8192, vars == "24577" & operation == "solve")
times_rtx3070_1024 <- subset(rtx3070_1024, vars == "3073" & operation == "solve")
times_rtx3070_2048 <- subset(rtx3070_2048, vars == "6145" & operation == "solve")
times_rtx3070_4096 <- subset(rtx3070_4096, vars == "12289" & operation == "solve")
times_rtx3070_8192 <- subset(rtx3070_8192, vars == "24577" & operation == "solve")
par(mfrow=c(2,2))
############ 1024 ##########
dta_A <- density(times_mx250_1024$elapsed_time, na.rm = TRUE)
dta_B <- density(times_rtx3070_1024$elapsed_time, na.rm = TRUE)
plot(dta_A, col = "black", main = "Matrice 1024x1024", xlim = c(0,6000), ylim = c(0, max(dta_A$y, dta_B$y)))
lines(dta_B, col = "green")
legend("topright", c("mx250", "rtx 3070"), lty = c(1,1), col = c("black", "green"))
############ 2048 ##########
dta_A <- density(times_mx250_2048$elapsed_time, na.rm = TRUE)
dta_B <- density(times_rtx3070_2048$elapsed_time, na.rm = TRUE)
plot(dta_A, col = "black", main = "Matrice 2048x2048", ylim = c(0, max(dta_A$y, dta_B$y)))
lines(dta_B, col = "green")
legend("topright", c("mx250", "rtx 3070"), lty = c(1,1), col = c("black", "green"))
############ 4096 ##########
dta_A <- density(times_mx250_4096$elapsed_time, na.rm = TRUE)
dta_B <- density(times_rtx3070_4096$elapsed_time, na.rm = TRUE)
plot(dta_A, col = "black", main = "Matrice 4096x4096", ylim = c(0, max(dta_A$y, dta_B$y)))
lines(dta_B, col = "green")
legend("topright", c("mx250", "rtx 3070"), lty = c(1,1), col = c("black", "green"))
########### 8192 ###########
dta_A <- density(times_mx250_8192$elapsed_time, na.rm = TRUE)
dta_B <- density(times_rtx3070_8192$elapsed_time, na.rm = TRUE)
plot(dta_A, col = "black", main = "Matrice 8192x8192", ylim = c(0, max(dta_A$y, dta_B$y)))
lines(dta_B, col = "green")
legend("topright", c("mx250", "rtx 3070"), lty = c(1,1), col = c("black", "green"))
par(mfrow=c(1,1))
